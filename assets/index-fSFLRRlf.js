import{M as x,am as S,bn as j,bi as E,bj as R,bk as y,bl as t,i as F,r as N,j as e,T as c,P as T,f as C,aX as d,bm as M}from"./index-G9w3P5X7.js";import{s as w,u as k,C as p,L as v,o as I}from"./styles-AhAnHAsh.js";import{T as _}from"./TextField-iqKKUhat.js";import{P as A}from"./index-1s7Q5NpR.js";import{A as f}from"./index-Zps7cL4l.js";import{A as L}from"./error-UL5nlCxe.js";import"./InputAdornment-fVYRnUqm.js";function P(){const s=x();return S({mutationFn:j,onSuccess:(r,{email:a})=>{E.set(R,y(a)),s.method.toggleNotify({open:!0,mode:"success",intlMessage:t["module.auth.form.status.register.success"]})},onError:r=>{const a=r?.code===L.EMAIL_EXISTS?"exist":"fail";s.method.toggleNotify({open:!0,mode:"error",intlMessage:t[`module.auth.form.status.register.${a}`]})}})}function X(){const{formatMessage:s}=F(),r=P(),a=w(),{handleSubmit:h,control:m,formState:{errors:l},setFocus:g}=k({defaultValues:{email:"",password:""},mode:"onSubmit",resolver:I(M)}),b=N.useCallback(o=>r.mutate(o),[]);return e.jsxs(e.Fragment,{children:[e.jsx(c,{variant:"h3",className:a.title,children:s(t["module.auth.form.title.register"])}),e.jsxs(T,{className:a.form,component:"form",onSubmit:h(b),noValidate:!0,children:[e.jsx(p,{name:"email",control:m,render:({field:o})=>{const n=!!l.email,i=l.email?.message;return e.jsx(_,{...o,type:"email",label:s(t["module.auth.form.input.label.email"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoComplete:"email",autoFocus:!0,error:n,helperText:i&&s(t[i])})}}),e.jsx(p,{name:"password",control:m,render:({field:{ref:o,...n}})=>{const i=!!l.password,u=l.password?.message;return e.jsx(A,{...n,inputRef:o,label:s(t["module.auth.form.input.label.password"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoComplete:"password",error:i,helperText:u&&s(t[u]),setFocus:()=>g("password")})}}),e.jsxs(C,{className:a.link,children:[e.jsx(d,{to:f.SIGN_IN,replace:!0,children:s(t["module.auth.form.title.signin"])}),e.jsx(c,{variant:"h6",color:"primary.main",children:" / "}),e.jsx(d,{to:f.RECOVER,replace:!0,children:s(t["module.auth.form.title.recover"])})]}),e.jsx(v,{type:"submit",loading:r.isPending,size:"large",variant:"contained",fullWidth:!0,className:a.btnSubmit,children:s(t["module.auth.form.button.submit.register"])})]})]})}export{X as default};
//# sourceMappingURL=index-fSFLRRlf.js.map
