import{am as g,an as x,au as v,ar as a,aa as S,aq as b,ap as y,r as j,j as e,F as u,P as E,S as R,as as m}from"./index-3bWkHj16.js";import{s as F,u as M,e as N,o as C,C as T,L as k,a as L}from"./styles-Zl5FCsnG.js";import{M as A}from"./TextField-NAqi5oDw.js";import{A as c}from"./index-84arIswO.js";import{A as O}from"./AUTH_ERROR_CODES-UL5nlCxe.js";import"./isMuiElement-GriJZeF9.js";function P(){const t=g();return x({mutationFn:v,onSuccess:()=>{t.method.toggleNotify({open:!0,mode:"success",intlMessage:a["module.auth.form.status.recover.success"]})},onError:s=>{const o=(s==null?void 0:s.code)===O.USER_DELETED?"recover.fail":"server.busy";t.method.toggleNotify({open:!0,mode:"error",intlMessage:a[`module.auth.form.status.${o}`]})}})}function W(){const{formatMessage:t}=S(),s=P(),o=F(),{handleSubmit:d,control:h,formState:{errors:l}}=M({defaultValues:{email:b.decrypt(y.get(N))},mode:"onSubmit",resolver:C(L)}),f=j.useCallback(r=>s.mutate(r),[]);return e.jsxs(e.Fragment,{children:[e.jsx(u,{variant:"h3",className:o.title,children:t(a["module.auth.form.title.recover"])}),e.jsxs(E,{className:o.form,component:"form",onSubmit:d(f),noValidate:!0,children:[e.jsx(T,{name:"email",control:h,render:({field:r})=>{var i;const p=!!l.email,n=(i=l.email)==null?void 0:i.message;return e.jsx(A,{...r,type:"email",label:t(a["module.auth.form.input.label.email"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoFocus:!0,error:p,helperText:n&&t(a[n])})}}),e.jsxs(R,{className:o.link,children:[e.jsx(m,{to:c.signin,replace:!0,children:t(a["module.auth.form.title.signin"])}),e.jsx(u,{variant:"h6",color:"primary.main",children:" / "}),e.jsx(m,{to:c.recover,replace:!0,children:t(a["module.auth.form.title.recover"])})]}),e.jsx(k,{type:"submit",loading:s.isPending,size:"large",variant:"contained",fullWidth:!0,className:o.btnSubmit,children:t(a["module.auth.form.button.submit.recover"])})]})]})}export{W as default};
