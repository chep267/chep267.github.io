import{I as b,aA as j,aB as E,aC as R,G as t,r as y,j as e}from"./index-CQb2Mhfu.js";import{u as g,S as C}from"./index-u6bbolPq.js";import{s as F,u as T,C as d,L as w,o as N,a as I}from"./styles-LFV496cC.js";import{G as M,I as v,w as p}from"./index-pp2nuvVE.js";import{P as _}from"./createSvgIcon-NG5q891N.js";import{T as f}from"./makeStyles-8laeWSvW.js";import{T as k}from"./TextField-Oumpt-zD.js";import{P as A}from"./index-NfEPL3_3.js";import{A as h}from"./index-G8c4dUtH.js";import{A as B}from"./error-UL5nlCxe.js";import"./useTheme-RWZuwmiE.js";import"./InputAdornment-i66M9pZV.js";function L(){const s=g(),{notify:o}=b();return M({mutationFn:v,onSuccess:(r,{email:a})=>{j.set(E,R(a)),o.toggleNotify({open:!0,mode:"success",message:s.formatMessage(t["module.auth.form.status.register.success"])})},onError:r=>{const a=r?.code===B.EMAIL_EXISTS?"exist":"fail";o.toggleNotify({open:!0,mode:"error",message:s.formatMessage(t[`module.auth.form.status.register.${a}`])})}})}function q(){const{formatMessage:s}=g(),o=L(),r=F(),{handleSubmit:a,control:u,formState:{errors:i},setFocus:x}=T({defaultValues:{email:"",password:""},mode:"onSubmit",resolver:N(I)}),S=y.useCallback(l=>o.mutate(l),[]);return e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"h3",className:r.title,children:s(t["module.auth.form.title.register"])}),e.jsxs(_,{className:r.form,component:"form",onSubmit:a(S),noValidate:!0,children:[e.jsx(d,{name:"email",control:u,render:({field:l})=>{const n=!!i.email,m=i.email?.message;return e.jsx(k,{...l,type:"email",label:s(t["module.auth.form.input.label.email"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoComplete:"email",autoFocus:!0,error:n,helperText:m&&s(t[m])})}}),e.jsx(d,{name:"password",control:u,render:({field:{ref:l,...n}})=>{const m=!!i.password,c=i.password?.message;return e.jsx(A,{...n,inputRef:l,label:s(t["module.auth.form.input.label.password"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoComplete:"password",error:m,helperText:c&&s(t[c]),setFocus:()=>x("password")})}}),e.jsxs(C,{className:r.link,children:[e.jsx(p,{to:h.SIGN_IN,replace:!0,children:s(t["module.auth.form.title.signin"])}),e.jsx(f,{variant:"h6",color:"primary.main",children:" / "}),e.jsx(p,{to:h.RECOVER,replace:!0,children:s(t["module.auth.form.title.recover"])})]}),e.jsx(w,{type:"submit",loading:o.isPending,size:"large",variant:"contained",fullWidth:!0,className:r.btnSubmit,children:s(t["module.auth.form.button.submit.register"])})]})]})}export{q as default};
//# sourceMappingURL=index-4rop39kp.js.map
