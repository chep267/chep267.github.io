import{b as j,M as y,am as T,bh as k,bi as g,bj as b,bk as F,c as C,d as E,bl as t,i as N,az as w,r as I,j as e,T as d,P as v,f as M,aX as p,bm as R}from"./index-G9w3P5X7.js";import{s as A,u as P,o as B,C as h,L}from"./styles-AhAnHAsh.js";import{T as V}from"./TextField-iqKKUhat.js";import{P as W}from"./index-1s7Q5NpR.js";import{A as f}from"./index-Zps7cL4l.js";import"./InputAdornment-fVYRnUqm.js";function _(){const s=j(),l=y();return T({mutationFn:k,onSuccess:async(a,{email:u})=>{const r=a.user,o=await r.getIdToken()||"";g.set(b,F(u)),C.set(E,o,{expires:1}),s.method.setAuth({isAuth:!0,me:r})},onError:()=>{l.method.toggleNotify({open:!0,mode:"error",intlMessage:t["module.auth.form.status.email.incorrect"]})}})}function D(){const{formatMessage:s}=N(),l=_(),a=A(),{handleSubmit:u,control:r,formState:{errors:o},setFocus:x}=P({defaultValues:{email:w(g.get(b)),password:""},mode:"onSubmit",resolver:B(R)}),S=I.useCallback(n=>l.mutate(n),[]);return e.jsxs(e.Fragment,{children:[e.jsx(d,{variant:"h3",className:a.title,children:s(t["module.auth.form.title.signin"])}),e.jsxs(v,{className:a.form,component:"form",onSubmit:u(S),noValidate:!0,children:[e.jsx(h,{name:"email",control:r,render:({field:n})=>{const m=!!o.email,i=o.email?.message;return e.jsx(V,{...n,type:"email",label:s(t["module.auth.form.input.label.email"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoComplete:"email",autoFocus:!0,error:m,helperText:i&&s(t[i])})}}),e.jsx(h,{name:"password",control:r,render:({field:{ref:n,...m}})=>{const i=!!o.password,c=o.password?.message;return e.jsx(W,{...m,inputRef:n,label:s(t["module.auth.form.input.label.password"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoComplete:"password",error:i,helperText:c&&s(t[c]),setFocus:()=>x("password")})}}),e.jsxs(M,{className:a.link,children:[e.jsx(p,{to:f.REGISTER,replace:!0,children:s(t["module.auth.form.title.register"])}),e.jsx(d,{variant:"h6",color:"primary.main",children:" / "}),e.jsx(p,{to:f.RECOVER,replace:!0,children:s(t["module.auth.form.title.recover"])})]}),e.jsx(L,{type:"submit",loading:l.isPending,size:"large",variant:"contained",fullWidth:!0,className:a.btnSubmit,children:s(t["module.auth.form.button.submit.signin"])})]})]})}export{D as default};
//# sourceMappingURL=index-U1jC0cmY.js.map
