import{j as t,an as je,r as n,aW as be,d as j,k as O,_ as q,l as y,ak as X,aX as M,u as Se,aY as Ce,ab as Ee,al as Me,aZ as Ne}from"./index-DaeNVboi.js";import{c as _,b as u,P as D}from"./createSvgIcon-H2AZ31wo.js";import{S as v}from"./index-6K9hm45q.js";import{m as f,T as L,g as Q,b as Y,h as w,c as Z,d as K}from"./makeStyles-dK49IQNm.js";import{B as J,r as ee,i as te,L as Le,C as Te,g as we,a as se,h as b,f as N,j as F,k as ae,l as Re,m as ke,d as g}from"./index-4nfW8HpE.js";import{F as re}from"./message-9uR5quYl.js";import{I as p}from"./IconButton-WsA_EFrN.js";import{I as A}from"./InputAdornment-2AnyCE5h.js";import{T as oe}from"./TextField-Fm4nitPY.js";import{g as z}from"./index-6QUG6S8l.js";import"./useTheme-ymx2BF-y.js";const $e=f(({spacing:e})=>({thread_title:{width:"100%",alignItems:"flex-start",padding:`${e(3)} ${e(2)}`}}));var De=$e;function Ae(){const e=De();return t.jsx(J,{className:e.thread_title,children:t.jsx(L,{variant:"h5",children:t.jsx(re,{...je["module.messenger.component.thread.title"]})})})}const ze=_(t.jsx("path",{d:"m9 19 1.41-1.41L5.83 13H22v-2H5.83l4.59-4.59L9 5l-7 7 7 7z"}),"West");var H={},Fe=te;Object.defineProperty(H,"__esModule",{value:!0});var ne=H.default=void 0,He=Fe(ee()),We=t,Pe=(0,He.default)((0,We.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");ne=H.default=Pe;var W={},Ge=te;Object.defineProperty(W,"__esModule",{value:!0});var ie=W.default=void 0,Be=Ge(ee()),Ue=t,Ve=(0,Be.default)((0,Ue.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");ie=W.default=Ve;const le=n.memo(e=>{const{timer:s=be,onChangeValue:a,onLoading:r,type:o="text",spellCheck:l=!1,size:c="small",InputProps:i,...m}=e,h=n.useRef(null),d=n.useRef(""),[x,S]=n.useState(""),R=n.useCallback(E=>S(E?.target?.value||""),[]);n.useEffect(()=>{let E;const I=x.trim();return I!==d.current&&(s>0?(E=setTimeout(()=>a?.(I),s),r?.(!0)):a?.(I),d.current=I),()=>clearTimeout(E)},[x]);const C=n.useCallback(()=>{S(""),h.current?.focus?.()},[]),k=n.useMemo(()=>i?.startAdornment||t.jsx(A,{position:"start",children:t.jsx(ie,{color:"primary"})}),[i?.startAdornment]),T=n.useMemo(()=>i?.endAdornment||t.jsx(A,{position:"end",style:{visibility:x?"visible":"hidden",cursor:"pointer"},onClick:C,children:t.jsx(ne,{color:"primary"})}),[i?.endAdornment,x]);return t.jsx(oe,{type:o,inputRef:h,spellCheck:l,value:x,onChange:R,size:c,InputProps:{...i,startAdornment:k,endAdornment:T},...m})});le.displayName="InputSearch";var Oe=le;const qe=f(({zIndex:e,spacing:s})=>({listSearch:{position:"relative",top:0,zIndex:e.appBar,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:s(2),padding:s(1),"& > .MuiTextField-root":{width:"100%",marginLeft:50,transition:"margin 0.3s","& > .MuiInputBase-root":{borderRadius:20}},"& > .MuiIconButton-root":{position:"absolute",zIndex:1,transform:"scale(1)",transition:"transform 0.2s"}},listSearch_hidden:{gap:s(0),"& > .MuiTextField-root":{marginLeft:0},"& > .MuiIconButton-root":{transform:"scale(0)"}}}));var Xe=qe;function Qe(e){const{isFocusSearch:s,setFocusSearch:a}=e,r=Xe();return t.jsxs(v,{className:u(r.listSearch,{[r.listSearch_hidden]:!s}),children:[t.jsx(p,{onClick:()=>a(!1),children:t.jsx(ze,{})}),t.jsx(Oe,{onFocus:()=>a(!0)})]})}function Ye(e){return Q("MuiListItemAvatar",e)}Y("MuiListItemAvatar",["root","alignItemsFlexStart"]);const Ze=["className"],Ke=e=>{const{alignItems:s,classes:a}=e;return K({root:["root",s==="flex-start"&&"alignItemsFlexStart"]},Ye,a)},Je=w("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:a}=e;return[s.root,a.alignItems==="flex-start"&&s.alignItemsFlexStart]}})(({ownerState:e})=>j({minWidth:56,flexShrink:0},e.alignItems==="flex-start"&&{marginTop:8})),et=n.forwardRef(function(s,a){const r=O({props:s,name:"MuiListItemAvatar"}),{className:o}=r,l=q(r,Ze),c=n.useContext(Le),i=j({},r,{alignItems:c.alignItems}),m=Ke(i);return t.jsx(Je,j({className:Z(m.root,o),ownerState:i,ref:a},l))}),ce=et,tt=_(t.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function st(e){return Q("MuiAvatar",e)}Y("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const at=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],rt=e=>{const{classes:s,variant:a,colorDefault:r}=e;return K({root:["root",a,r&&"colorDefault"],img:["img"],fallback:["fallback"]},st,s)},ot=w("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:a}=e;return[s.root,s[a.variant],a.colorDefault&&s.colorDefault]}})(({theme:e,ownerState:s})=>j({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},s.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},s.variant==="square"&&{borderRadius:0},s.colorDefault&&j({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}))),nt=w("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,s)=>s.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),it=w(tt,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,s)=>s.fallback})({width:"75%",height:"75%"});function lt({crossOrigin:e,referrerPolicy:s,src:a,srcSet:r}){const[o,l]=n.useState(!1);return n.useEffect(()=>{if(!a&&!r)return;l(!1);let c=!0;const i=new Image;return i.onload=()=>{c&&l("loaded")},i.onerror=()=>{c&&l("error")},i.crossOrigin=e,i.referrerPolicy=s,i.src=a,r&&(i.srcset=r),()=>{c=!1}},[e,s,a,r]),o}const ct=n.forwardRef(function(s,a){const r=O({props:s,name:"MuiAvatar"}),{alt:o,children:l,className:c,component:i="div",imgProps:m,sizes:h,src:d,srcSet:x,variant:S="circular"}=r,R=q(r,at);let C=null;const k=lt(j({},m,{src:d,srcSet:x})),T=d||x,E=T&&k!=="error",I=j({},r,{colorDefault:!E,component:i,variant:S}),$=rt(I);return E?C=t.jsx(nt,j({alt:o,srcSet:x,src:d,sizes:h,ownerState:I,className:$.img},m)):l!=null?C=l:T&&o?C=o[0]:C=t.jsx(it,{ownerState:I,className:$.fallback}),t.jsx(ot,j({as:i,ownerState:I,className:Z($.root,c),ref:a},R,{children:C}))}),P=ct,G=_(t.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image"),dt=_(t.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),ut=f(({palette:e})=>({list:{width:"100%",height:"100%",overflow:"hidden auto","&::-webkit-scrollbar":{width:"7px",height:"7px"},"&::-webkit-scrollbar-track":{borderRadius:"10px",backgroundColor:y(e.common.black,.1)},"&::-webkit-scrollbar-thumb":{borderRadius:"10px",backgroundColor:y(e.common.black,.2)},"&::-webkit-scrollbar-thumb:hover":{backgroundColor:y(e.common.black,.4)},"&::-webkit-scrollbar-thumb:active":{backgroundColor:y(e.common.black,.9)}},listLoading:{position:"absolute",justifyContent:"center",alignItems:"center",width:"100%",zIndex:1,top:0,left:0,bottom:0,right:0,backgroundColor:y(e.common.black,.2)}}));var de=ut;const ue=n.memo(e=>{const{loading:s,empty:a,emptyText:r}=e,o=de();return t.jsx(v,{className:o.listLoading,display:s||a?"flex":"none",children:s?t.jsx(Te,{color:"primary"}):t.jsx(L,{children:r||t.jsx(re,{...X["module.base.component.table.empty.text"]})})})});ue.displayName="TableLoading";var mt=ue;const me=n.memo(function(e){const{data:s,renderItem:a,className:r,loading:o,emptyText:l,...c}=e,i=de(),m=n.useMemo(()=>s?.map((h,d)=>a?.(h,d)),[s,a]);return t.jsxs(we,{className:u(i.list,r),...c,children:[t.jsx(mt,{loading:o,empty:!s?.length,emptyText:l}),m]})});me.displayName="ListBase";var B=me;const ht=f(({palette:e,typography:s})=>({list:{'& div[class*="listLoading"]':{paddingTop:40,justifyContent:"flex-start"}},listItem:{"& .MuiListItemText-primary":{...s.h6},"&:hover":{cursor:"pointer",backgroundColor:y(e.common.black,.1),"& > .MuiIconButton-root":{display:"flex"}}},listItemSelected:{backgroundColor:y(e.common.black,.1),"& .MuiListItemText-primary":{color:e.primary.main}},itemOption:{display:"none"}}));var he=ht;const fe=n.memo(()=>{const e=se(),{tid:s}=b(),a=he(),{ui:{loadingThread:r},data:{threadIds:o,threads:l}}=M(),c=o[0];n.useEffect(()=>{c&&(!s||s==="0")&&e(z(N.MESSENGER,N.MESSENGER_CONVERSATION.replace(":tid",c)))},[s,c]);const i=n.useCallback(d=>{e(z(N.MESSENGER,N.MESSENGER_CONVERSATION.replace(":tid",d)))},[]),m=n.useCallback(d=>{d.stopPropagation()},[]),h=n.useCallback((d,x)=>{const S=l[d];return S?t.jsxs(F,{className:u(a.listItem,{[a.listItemSelected]:d===s}),onClick:()=>i(d),children:[t.jsx(ce,{children:t.jsx(P,{children:t.jsx(G,{})})}),t.jsx(ae,{primary:S.name,secondary:"You: Xin chao!"}),t.jsx(p,{className:a.itemOption,onClick:m,children:t.jsx(dt,{})})]},x):null},[s,l]);return t.jsx(B,{className:u(a.list,"messenger_left_thread_list_default"),loading:r,data:o,renderItem:h})},()=>!0);fe.displayName="ThreadList";var ft=fe;function xe(){const s=Se().getQueryData(["useListUser"]);return Ce({queryKey:["useListUser"],queryFn:()=>Re({}),refetchOnWindowFocus:!1,refetchOnMount:!1,enabled:!s})}const pe=n.memo(()=>{const e=se(),s=he(),a=xe(),{itemIds:r,items:o}=a.data??{},l=n.useCallback(i=>{e(z(N.MESSENGER,N.MESSENGER_CONVERSATION.replace(":tid",`${i.uid}`)))},[]),c=n.useCallback((i,m)=>{const h=o?.[i];return h?t.jsxs(F,{className:u(s.listItem),onClick:()=>l(h),children:[t.jsx(ce,{children:t.jsx(P,{children:t.jsx(G,{})})}),t.jsx(ae,{primary:h.displayName})]},m):null},[o]);return t.jsx(B,{className:u(s.list,"messenger_left_thread_list_search"),loading:a.isLoading,data:r,renderItem:c})},()=>!0);pe.displayName="ThreadListSearch";var xt=pe;const pt=f({thread_content:{display:"flex",justifyContent:"flex-end",position:"relative",width:"100%",height:"100%",overflow:"hidden",'& > ul[class*="messenger_left_thread_list_default"]':{position:"absolute",zIndex:1,top:0,right:0,transition:"right 0.3s"},'& > ul[class*="messenger_left_thread_list_search"]':{position:"absolute",zIndex:1,top:0,left:"100%",transition:"left 0.3s"}},thread_content_focus_search:{'& > ul[class*="messenger_left_thread_list_default"]':{right:"100%"},'& > ul[class*="messenger_left_thread_list_search"]':{left:0}},thread_content1:{display:"flex",justifyContent:"flex-end",position:"relative",width:"100%",height:"100%",'& > ul[class*="messenger_left_thread_list_default"]':{transition:"width 0.8s, visibility 0.8s"},'& > ul[class*="messenger_left_thread_list_search"]':{transition:"width 0.6s, visibility 0.6s",position:"absolute",top:0,left:0,bottom:0,width:0,visibility:"hidden"}},thread_content_focus_search1:{'& > ul[class*="messenger_left_thread_list_default"]':{transition:"width 0.6s, visibility 0.6s",width:0,visibility:"hidden"},'& > ul[class*="messenger_left_thread_list_search"]':{transition:"width 0.8s, visibility 0.8s",width:"100%",visibility:"visible"}}});var gt=pt;function vt(){const e=gt(),[s,a]=n.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(Qe,{isFocusSearch:s,setFocusSearch:a}),t.jsxs(J,{className:u(e.thread_content,{[e.thread_content_focus_search]:s}),children:[t.jsx(ft,{}),t.jsx(xt,{})]})]})}const ge=_(t.jsx("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"}),"Call"),ve=_(t.jsx("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");function U(e){const{uid:s}=e,a=xe();return{isLoading:a.isLoading,data:a.data?.items?.[`${s}`]}}function _t(e){const{tid:s,...a}=e,{tid:r}=b(),o=U({uid:s||r});return t.jsx(L,{variant:"h5",...a,children:o?.data?.displayName})}const _e=_(t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");function It(){const{method:e}=M(),s=n.useCallback(()=>{e.setOpenThreadInfo(a=>!a)},[]);return t.jsx(p,{onClick:s,children:t.jsx(_e,{color:"primary"})})}const yt=f(({spacing:e,palette:s})=>({header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",padding:`${e(3)} ${e(2)}`,borderBottom:`1px solid ${s.divider}`},header_right:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:e(1)}}));var jt=yt;function bt(){const e=jt();return t.jsxs(v,{className:e.header,children:[t.jsx(_t,{}),t.jsxs(v,{className:e.header_right,children:[t.jsx(p,{children:t.jsx(ge,{color:"primary"})}),t.jsx(p,{children:t.jsx(ve,{color:"primary"})}),t.jsx(It,{})]})]})}const St=f(({spacing:e,palette:s})=>({header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",padding:`${e(3)} ${e(2)}`,borderBottom:`1px solid ${s.divider}`},header_right:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:e(1)}}));var Ct=St;function Et(){const e=Ct(),{tid:s}=b(),a=U({uid:s});return t.jsxs(v,{className:e.header,children:[t.jsx(L,{variant:"h5",children:a?.data?.displayName}),t.jsxs(v,{className:e.header_right,children:[t.jsx(p,{children:t.jsx(ge,{color:"primary"})}),t.jsx(p,{children:t.jsx(ve,{color:"primary"})}),t.jsx(p,{onClick:()=>{},children:t.jsx(_e,{color:"primary"})})]})]})}const Mt=f(({spacing:e,palette:s,typography:a})=>({body:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%",padding:`${e(3)} ${e(2)}`},listItem:{"& .MuiListItemText-primary":{...a.h6},"&:hover":{cursor:"pointer",backgroundColor:y(s.common.black,.1),"& > .MuiIconButton-root":{display:"flex"}}},listItemSelected:{backgroundColor:y(s.common.black,.1),"& .MuiListItemText-primary":{color:s.primary.main}},itemOption:{display:"none"}}));var Nt=Mt;function Lt(){const e=Nt(),{tid:s}=b(),{data:a}=M(),r=s?a.allMessages[s]:null,o=n.useCallback((l,c)=>(s?r?.messages[s]:null)?t.jsx(F,{className:u(e.listItem),children:t.jsx(Et,{})},c):null,[r,s]);return t.jsx(B,{className:u(e.body,"messenger_left_thread_list_default"),loading:!1,data:r?.messageIds,renderItem:o})}const Tt=_(t.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"}),"Mic"),wt=_(t.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Photo"),Rt=_(t.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");function V(e){const{onSuccess:s}=e??{},{me:a}=Ee(),{notify:r}=Me();return ke({mutationFn:({tid:o,name:l,type:c,members:i})=>Ne({uid:a.uid,tid:o,data:{tid:o,name:l,type:c,members:i}}),onSuccess:(o,l)=>s?.(l.tid),onError:()=>{r.toggleNotify({open:!0,mode:"error",intlMessage:X["module.base.error.server.busy"]})}})}const kt=f({btnSend:{position:"absolute",transition:"transform 0.2s",transform:"scale(0)",visibility:"hidden"},btnVisible:{transform:"scale(1)",visibility:"visible"}});var $t=kt;function Dt(){const{tid:e}=b(),s=$t();V();const{ui:a}=M(),r=e?a.drafts[e]:null,o=()=>{};return t.jsx(p,{onClick:o,className:u(s.btnSend,{[s.btnVisible]:!!r?.text}),children:t.jsx(Rt,{color:"primary"})})}const At=_(t.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite"),zt=f({btnSend:{transition:"transform 0.2s",transform:"scale(0)",visibility:"hidden"},btnVisible:{transform:"scale(1)",visibility:"visible"}});var Ft=zt;function Ht(){const{tid:e}=b(),s=Ft();V();const{ui:a}=M(),r=e?a.drafts[e]:null,o=()=>{};return t.jsx(p,{onClick:o,className:u(s.btnSend,{[s.btnVisible]:!r?.text}),children:t.jsx(At,{color:"primary"})})}const Wt=_(t.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM8.5 8c.83 0 1.5.67 1.5 1.5S9.33 11 8.5 11 7 10.33 7 9.5 7.67 8 8.5 8zM12 18c-2.28 0-4.22-1.66-5-4h10c-.78 2.34-2.72 4-5 4zm3.5-7c-.83 0-1.5-.67-1.5-1.5S14.67 8 15.5 8s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"EmojiEmotions"),Pt=e=>{if(!e)return!1;setTimeout(()=>{e.selectionStart=e.selectionEnd=e.value?.length,e?.focus?.()},1)},Gt=f({endAdornment:{marginBottom:12}});var Bt=Gt;function Ut(){const{tid:e}=b(),s=Bt();V();const{ui:a,method:r}=M(),o=n.useRef(null),[l,c]=n.useState(""),i=e?a.drafts[e]:null;n.useEffect(()=>{i?.text!==l&&c(i?.text||""),Pt(o.current)},[e]),n.useEffect(()=>{if(e&&l!==i?.text){const d={text:l};r.setDrafts(x=>({...x,[e]:d}))}},[l]);const m=n.useCallback(d=>{c(d.target.value)},[]),h=n.useMemo(()=>({endAdornment:t.jsx(A,{position:"end",className:s.endAdornment,children:t.jsx(p,{children:t.jsx(Wt,{color:"primary"})})})}),[]);return t.jsx(oe,{inputRef:o,placeholder:"Aa",size:"small",multiline:!0,maxRows:5,variant:"outlined",spellCheck:!1,fullWidth:!0,value:l,onChange:m,InputProps:h})}const Vt=f(({spacing:e,palette:s})=>({footer:{position:"relative",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",padding:`${e(2)} ${e(2)}`,borderTop:`1px solid ${s.divider}`},footer_left:{position:"absolute",left:e(2),top:0,bottom:e(2),flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between",gap:e(0),zIndex:1,"& > button":{transition:"transform 0.2s",transform:"scale(1)"}},footer_left_hidden:{"& > button":{transform:"scale(0)"}},footer_center:{zIndex:999,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:`0 ${e(2)}`,marginLeft:80,transition:"margin 0.3s","& > .MuiTextField-root":{width:"100%","& > .MuiInputBase-root":{borderRadius:20,alignItems:"flex-end",paddingLeft:e(2)}}},footer_center_full:{marginLeft:0},footer_right:{flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between",height:"100%",gap:e(1)}}));var Ot=Vt;function qt(){const e=Ot();return t.jsxs(v,{className:e.footer,children:[t.jsxs(v,{className:u(e.footer_left,{[e.footer_left_hidden]:!1}),children:[t.jsx(p,{onClick:()=>{},children:t.jsx(wt,{color:"primary"})}),t.jsx(p,{onClick:()=>{},children:t.jsx(Tt,{color:"primary"})})]}),t.jsx(v,{className:u(e.footer_center,{[e.footer_center_full]:!1}),children:t.jsx(Ut,{})}),t.jsxs(v,{className:e.footer_right,children:[t.jsx(Dt,{}),t.jsx(Ht,{})]})]})}const Xt=f(({spacing:e})=>({thread_info:{width:"100%",alignItems:"center",padding:`${e(3)} ${e(2)}`},avatar:{width:100,height:100}}));var Qt=Xt;function Yt(){const e=Qt(),{tid:s}=b(),a=U({uid:s});return t.jsxs(v,{className:e.thread_info,children:[t.jsx(P,{alt:"avt",className:e.avatar,src:a?.data?.photoURL||"",children:t.jsx(G,{})}),t.jsx(L,{variant:"h6",pt:2,children:a?.data?.displayName})]})}const Zt=f(({palette:e,breakpoints:s,zIndex:a})=>({screen:{position:"relative",flexDirection:"row",width:"100%",height:"100%"},layoutDefault:{display:"flex",position:"relative",flexDirection:"column",alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%",borderRadius:0},left:{maxWidth:g.MESSENGER_LEFT_RIGHT_MAX_WIDTH,transition:"all 0.3s ease-in-out",[s.down("xl")]:{minWidth:g.MESSENGER_LEFT_MEDIUM_WIDTH,maxWidth:g.MESSENGER_LEFT_MEDIUM_WIDTH},[s.down("md")]:{minWidth:g.MESSENGER_LEFT_MIN_WIDTH,maxWidth:g.MESSENGER_LEFT_MIN_WIDTH},[s.down("sm")]:{minWidth:0,maxWidth:0},'&:hover > ul[class*="list"]':{overflow:"hidden",height:0,padding:0,margin:0,borderRadius:"50%"}},right:{borderLeft:`1px solid ${e.divider}`,maxWidth:g.MESSENGER_LEFT_RIGHT_MAX_WIDTH,transition:"all 0.3s ease-in-out, height 0s",[s.down("lg")]:{position:"absolute",top:g.HEADER_HEIGHT,right:10,zIndex:a.drawer,border:"1px dashed red",minWidth:g.MESSENGER_LEFT_MEDIUM_WIDTH,maxWidth:g.MESSENGER_LEFT_MEDIUM_WIDTH,height:`calc(100vh - ${g.HEADER_HEIGHT*2}px - 20px)`},[s.down("xl")]:{minWidth:g.MESSENGER_LEFT_MEDIUM_WIDTH,maxWidth:g.MESSENGER_LEFT_MEDIUM_WIDTH}},center:{borderLeft:`1px solid ${e.divider}`},right_hidden:{minWidth:0,maxWidth:0,visibility:"hidden",zIndex:-1}}));var Ie=Zt;function Kt(){const e=Ie(),{ui:s}=M();return t.jsx(D,{className:u(e.layoutDefault,e.right,{[e.right_hidden]:!s.openThreadInfo}),children:t.jsx(Yt,{})})}const ye=n.memo(()=>{const e=Ie();return t.jsxs(v,{className:e.screen,children:[t.jsxs(D,{className:u(e.layoutDefault,e.left),children:[t.jsx(Ae,{}),t.jsx(vt,{})]}),t.jsxs(D,{className:u(e.layoutDefault,e.center),children:[t.jsx(bt,{}),t.jsx(Lt,{}),t.jsx(qt,{})]}),t.jsx(Kt,{})]})});ye.displayName="ConversationScreen";var ds=ye;export{ds as default};
//# sourceMappingURL=index-Pzt9zcfJ.js.map
