import{G as x,H as S,bm as j,bh as E,bi as R,bj as y,bk as t,u as F,r as N,j as e,T as c,P as C,an as T,S as w,aD as d,bl as M}from"./index-jp_zSDZP.js";import{s as k,u as v,C as p,L as I,o as _}from"./styles-hMBx3END.js";import{P as A}from"./index-6ChQju2l.js";import{A as f}from"./index-e4kybb4n.js";import{A as L}from"./error-UL5nlCxe.js";function P(){const s=x();return S({mutationFn:j,onSuccess:(r,{email:a})=>{E.set(R,y(a)),s.method.toggleNotify({open:!0,mode:"success",intlMessage:t["module.auth.form.status.register.success"]})},onError:r=>{const a=r?.code===L.EMAIL_EXISTS?"exist":"fail";s.method.toggleNotify({open:!0,mode:"error",intlMessage:t[`module.auth.form.status.register.${a}`]})}})}function W(){const{formatMessage:s}=F(),r=P(),a=k(),{handleSubmit:h,control:u,formState:{errors:l},setFocus:g}=v({defaultValues:{email:"",password:""},mode:"onSubmit",resolver:_(M)}),b=N.useCallback(o=>r.mutate(o),[]);return e.jsxs(e.Fragment,{children:[e.jsx(c,{variant:"h3",className:a.title,children:s(t["module.auth.form.title.register"])}),e.jsxs(C,{className:a.form,component:"form",onSubmit:h(b),noValidate:!0,children:[e.jsx(p,{name:"email",control:u,render:({field:o})=>{const n=!!l.email,i=l.email?.message;return e.jsx(T,{...o,type:"email",label:s(t["module.auth.form.input.label.email"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoComplete:"email",autoFocus:!0,error:n,helperText:i&&s(t[i])})}}),e.jsx(p,{name:"password",control:u,render:({field:{ref:o,...n}})=>{const i=!!l.password,m=l.password?.message;return e.jsx(A,{...n,inputRef:o,label:s(t["module.auth.form.input.label.password"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoComplete:"password",error:i,helperText:m&&s(t[m]),setFocus:()=>g("password")})}}),e.jsxs(w,{className:a.link,children:[e.jsx(d,{to:f.SIGN_IN,replace:!0,children:s(t["module.auth.form.title.signin"])}),e.jsx(c,{variant:"h6",color:"primary.main",children:" / "}),e.jsx(d,{to:f.RECOVER,replace:!0,children:s(t["module.auth.form.title.recover"])})]}),e.jsx(I,{type:"submit",loading:r.isPending,size:"large",variant:"contained",fullWidth:!0,className:a.btnSubmit,children:s(t["module.auth.form.button.submit.register"])})]})]})}export{W as default};
//# sourceMappingURL=index-q4XKbxQt.js.map
