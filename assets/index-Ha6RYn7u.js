import{af as x,aZ as S,bh as j,r as E,j as e,l as c,b0 as R,bj as d,T as y,h as F,bd as p,bk as N,bi as T}from"./vendor-NFT-wIW4.js";import{f as C,ac as w,a7 as M,a8 as k,a9 as v,aa as t,ab as I}from"./index-sNUf3CTI.js";import{P as _}from"./index-5F3QT_OO.js";import{A as f}from"./index-f7mdcx6a.js";import{A}from"./error-UL5nlCxe.js";import{s as B}from"./styles-jZze4u5B.js";import"./commonjsHelpers-5-cIlDoe.js";function L(){const s=C();return x({mutationFn:w,onSuccess:(r,{email:a})=>{M.set(k,v(a)),s.method.toggleNotify({open:!0,mode:"success",intlMessage:t["module.auth.form.status.register.success"]})},onError:r=>{const a=r?.code===A.EMAIL_EXISTS?"exist":"fail";s.method.toggleNotify({open:!0,mode:"error",intlMessage:t[`module.auth.form.status.register.${a}`]})}})}function z(){const{formatMessage:s}=S(),r=L(),a=B(),{handleSubmit:h,control:u,formState:{errors:l},setFocus:g}=j({defaultValues:{email:"",password:""},mode:"onSubmit",resolver:T(I)}),b=E.useCallback(o=>r.mutate(o),[]);return e.jsxs(e.Fragment,{children:[e.jsx(c,{variant:"h3",className:a.title,children:s(t["module.auth.form.title.register"])}),e.jsxs(R,{className:a.form,component:"form",onSubmit:h(b),noValidate:!0,children:[e.jsx(d,{name:"email",control:u,render:({field:o})=>{const n=!!l.email,i=l.email?.message;return e.jsx(y,{...o,type:"email",label:s(t["module.auth.form.input.label.email"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoComplete:"email",autoFocus:!0,error:n,helperText:i&&s(t[i])})}}),e.jsx(d,{name:"password",control:u,render:({field:{ref:o,...n}})=>{const i=!!l.password,m=l.password?.message;return e.jsx(_,{...n,inputRef:o,label:s(t["module.auth.form.input.label.password"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoComplete:"password",error:i,helperText:m&&s(t[m]),setFocus:()=>g("password")})}}),e.jsxs(F,{className:a.link,children:[e.jsx(p,{to:f.SIGN_IN,replace:!0,children:s(t["module.auth.form.title.signin"])}),e.jsx(c,{variant:"h6",color:"primary.main",children:" / "}),e.jsx(p,{to:f.RECOVER,replace:!0,children:s(t["module.auth.form.title.recover"])})]}),e.jsx(N,{type:"submit",loading:r.isPending,size:"large",variant:"contained",fullWidth:!0,className:a.btnSubmit,children:s(t["module.auth.form.button.submit.register"])})]})]})}export{z as default};
//# sourceMappingURL=index-Ha6RYn7u.js.map
