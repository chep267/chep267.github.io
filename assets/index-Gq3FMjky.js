import{M as b,aP as S,bl as j,bh as E,bi as R,bj as y,bk as t,i as F,r as N,j as e,T as c,P as T,f as C,aV as d}from"./index-wXrx68AH.js";import{s as M,u as w,C as p,L as k,o as v,a as I}from"./styles-FrFVGMEP.js";import{T as _}from"./TextField-G7SGeSl8.js";import{P}from"./index-2FgQoXvn.js";import{A as f}from"./index-jE5Jnkxw.js";import{A}from"./error-UL5nlCxe.js";import"./InputAdornment-xa-SHzAG.js";function L(){const s=b();return S({mutationFn:j,onSuccess:(r,{email:a})=>{E.set(R,y(a)),s.method.toggleNotify({open:!0,mode:"success",intlMessage:t["module.auth.form.status.register.success"]})},onError:r=>{const a=r?.code===A.EMAIL_EXISTS?"exist":"fail";s.method.toggleNotify({open:!0,mode:"error",intlMessage:t[`module.auth.form.status.register.${a}`]})}})}function z(){const{formatMessage:s}=F(),r=L(),a=M(),{handleSubmit:h,control:u,formState:{errors:l},setFocus:g}=w({defaultValues:{email:"",password:""},mode:"onSubmit",resolver:v(I)}),x=N.useCallback(o=>r.mutate(o),[]);return e.jsxs(e.Fragment,{children:[e.jsx(c,{variant:"h3",className:a.title,children:s(t["module.auth.form.title.register"])}),e.jsxs(T,{className:a.form,component:"form",onSubmit:h(x),noValidate:!0,children:[e.jsx(p,{name:"email",control:u,render:({field:o})=>{const n=!!l.email,i=l.email?.message;return e.jsx(_,{...o,type:"email",label:s(t["module.auth.form.input.label.email"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoComplete:"email",autoFocus:!0,error:n,helperText:i&&s(t[i])})}}),e.jsx(p,{name:"password",control:u,render:({field:{ref:o,...n}})=>{const i=!!l.password,m=l.password?.message;return e.jsx(P,{...n,inputRef:o,label:s(t["module.auth.form.input.label.password"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoComplete:"password",error:i,helperText:m&&s(t[m]),setFocus:()=>g("password")})}}),e.jsxs(C,{className:a.link,children:[e.jsx(d,{to:f.SIGN_IN,replace:!0,children:s(t["module.auth.form.title.signin"])}),e.jsx(c,{variant:"h6",color:"primary.main",children:" / "}),e.jsx(d,{to:f.RECOVER,replace:!0,children:s(t["module.auth.form.title.recover"])})]}),e.jsx(k,{type:"submit",loading:r.isPending,size:"large",variant:"contained",fullWidth:!0,className:a.btnSubmit,children:s(t["module.auth.form.button.submit.register"])})]})]})}export{z as default};
//# sourceMappingURL=index-Gq3FMjky.js.map
