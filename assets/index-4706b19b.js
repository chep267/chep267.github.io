import{G as g,E as o,an as x,ak as E,al as S,r as v,j as e}from"./index-3b1bdf13.js";import{u as d,S as b}from"./index-b43d6006.js";import{s as R,u as j,o as y,C as N,T as C,L as T,a as F}from"./styles-c07689bc.js";import{h as k,l as L,L as i}from"./index-4e62ac9c.js";import{P as M}from"./createSvgIcon-4c60c0bc.js";import{T as u}from"./makeStyles-e73a06c4.js";import{A as c}from"./index-94695748.js";import{A as _}from"./error-094fa076.js";import"./useTheme-b59ca8f0.js";function A(){const t=d(),{notify:r}=g();return k({mutationFn:L,onSuccess:()=>{r.toggleNotify({open:!0,mode:"success",message:t.formatMessage(o["module.auth.form.status.recover.success"])})},onError:a=>{const s=a?.code===_.USER_DELETED?"recover.fail":"server.busy";r.toggleNotify({open:!0,mode:"error",message:t.formatMessage(o[`module.auth.form.status.${s}`])})}})}function W(){const{formatMessage:t}=d(),r=A(),a=R(),{handleSubmit:s,control:f,formState:{errors:m}}=j({defaultValues:{email:x(E.get(S))},mode:"onSubmit",resolver:y(F)}),p=v.useCallback(l=>r.mutate(l),[]);return e.jsxs(e.Fragment,{children:[e.jsx(u,{variant:"h3",className:a.title,children:t(o["module.auth.form.title.recover"])}),e.jsxs(M,{className:a.form,component:"form",onSubmit:s(p),noValidate:!0,children:[e.jsx(N,{name:"email",control:f,render:({field:l})=>{const h=!!m.email,n=m.email?.message;return e.jsx(C,{...l,type:"email",label:t(o["module.auth.form.input.label.email"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoFocus:!0,error:h,helperText:n&&t(o[n])})}}),e.jsxs(b,{className:a.link,children:[e.jsx(i,{to:c.SIGN_IN,replace:!0,children:t(o["module.auth.form.title.signin"])}),e.jsx(u,{variant:"h6",color:"primary.main",children:" / "}),e.jsx(i,{to:c.RECOVER,replace:!0,children:t(o["module.auth.form.title.recover"])})]}),e.jsx(T,{type:"submit",loading:r.isPending,size:"large",variant:"contained",fullWidth:!0,className:a.btnSubmit,children:t(o["module.auth.form.button.submit.recover"])})]})]})}export{W as default};
//# sourceMappingURL=index-4706b19b.js.map
