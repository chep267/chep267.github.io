import{r as m,at as S,j as u}from"./index-NJ1MLZVx.js";import{B as b,S as d}from"./index-g1Q7SyqV.js";import{b as j,P as v}from"./createSvgIcon-PwanX5rN.js";import{m as y}from"./makeStyles-_plxyxUu.js";import"./useTheme-aXtPKKEn.js";const I="/assets/pokemon_1-_rwUpLef.png",w="/assets/pokemon_2-uXJvS91b.png",C="/assets/pokemon_3-mLLpcdTD.png",E="/assets/pokemon_4-p_ikc5x7.png",G="/assets/pokemon_5-X60QDdXd.png",L="/assets/pokemon_6-aqxAMXVA.png",D="/assets/pokemon_7-kxyGQ0HX.png",O="/assets/pokemon_8-dgOiZzz8.png",A="/assets/pokemon_9-qOnlIO1v.png",B="/assets/pokemon_10-YXaNhRDn.png",M="/assets/pokemon_11-dDshKojj.png",P="/assets/pokemon_12-eZBPF1Yj.png",X="/assets/pokemon_13-kCHf7t0k.png",$="/assets/pokemon_14-y8nGngTm.png",z="/assets/pokemon_15-8fL3T8jd.png",N="/assets/pokemon_16-FeLEj9Vi.png",H="/assets/pokemon_17-4AC_4Kf9.png",K="/assets/pokemon_18-amt3sHif.png",R="/assets/pokemon_19-KAg0SO50.png",T="/assets/pokemon_20-yJYHxrQb.png",Q="/assets/pokemon_21-X25cynzf.png",V="/assets/pokemon_22-pgYGII2W.png",Y="/assets/pokemon_23-r2mGVv-R.png",q="/assets/pokemon_24-ZDgsg9zc.png",J="/assets/pokemon_25-87joVjIe.png",Z="/assets/pokemon_26-LlDn7Bd3.png",U="/assets/pokemon_27-Zg4Q78nj.png",F="/assets/pokemon_28-MC9YpkJ9.png",W="/assets/pokemon_29-EncL34BO.png",ee="/assets/pokemon_30-qpLme0Ks.png",oe="/assets/pokemon_31-ctjLe5GQ.png",se="/assets/pokemon_32-lhL1r2sL.png",te="/assets/pokemon_33-qt732usg.png",ne="/assets/pokemon_34-1DwBihNu.png",ae="/assets/pokemon_35-0tVEJMTg.png",re="/assets/pokemon_36-pwSrGvGN.png",ce=Object.freeze({1:I,2:w,3:C,4:E,5:G,6:L,7:D,8:O,9:A,10:B,11:M,12:P,13:X,14:$,15:z,16:N,17:H,18:K,19:R,20:T,21:Q,22:V,23:Y,24:q,25:J,26:Z,27:U,28:F,29:W,30:ee,31:oe,32:se,33:te,34:ne,35:ae,36:re}),me=y(({palette:n})=>({"@keyframes success":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.1)"},"100%":{transform:"scale(1)"}},"@keyframes error":{"10%, 90%":{transform:"translate3d(-1px, 0, 0)"},"20%, 80%":{transform:"translate3d(2px, 0, 0)"},"30%, 50%, 70%":{transform:"translate3d(-4px, 0, 0)"},"40%, 60%":{transform:"translate3d(4px, 0, 0)"}},item:{width:50,height:70,borderRadius:2,backgroundSize:"cover",backgroundRepeat:"no-repeat","&:hover":{opacity:.8}},itemEmpty:{"&:hover":{background:"unset",cursor:"default"}},itemSelected:{position:"relative",opacity:.6,"&:after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:1,border:"4px solid",borderColor:n.success.main,opacity:2}},itemError:{animation:"$error 1s linear infinite","&:after":{borderColor:n.error.main}},itemSuccess:{opacity:"1 !important",animation:"$success 1s linear infinite"}}));var pe=me;function ie(n){const{status:s,item:a,onSelect:t}=n,o=pe(),c=a.value===0,e=m.useMemo(()=>c?S:{backgroundImage:`url(${ce[a.value]})`},[c]);return u.jsx(b,{disabled:c,className:j(o.item,{[o.itemEmpty]:c},{[o.itemSelected]:s==="select"||s==="success"||s==="error"},{[o.itemError]:s==="error"},{[o.itemSuccess]:s==="success"}),style:e,onClick:()=>t(a)})}const ke=36,h=(n,s)=>n.some(a=>a.x===s.x&&a.y===s.y),le=n=>{const{row:s,col:a}=n,t=[],o=()=>Math.floor(Math.random()*ke)+1,c=s*a;for(let e=0,r=0;e<s;++e){for(let p=0;p<a;++p){++r;const k=s-1-e,_=a-1-p;t[e]||(t[e]=[]),t[k]||(t[k]=[]);const g=o();if(t[e][p]={x:e,y:p,value:g},t[k][_]={x:k,y:_,value:g},r===c/2)break}if(r===c/2)break}for(let e=0;e+1<s;++e)for(let r=0;r+2<a;++r){const p=t[e][r].value;t[e][r].value=t[e+1][r].value,t[e+1][r].value=p}return t};function ue(){const[n,s]=m.useState({row:0,col:0}),[a,t]=m.useState([]),[o,c]=m.useState([]),[e,r]=m.useState("");console.log("itemStatus: ",e),m.useEffect(()=>{k()},[n]),m.useEffect(()=>{o.length===0?r(""):o.length===1?r("select"):r(o[0].value===o[1].value?"success":"error")},[o]),m.useEffect(()=>{if(e==="error"&&o.length>1&&setTimeout(()=>{c([]),r("select")},1e3),e==="success"&&o.length>1){const i=o[0],l=o[1];setTimeout(()=>{t(x=>{const f=[...x];return f[i.x][i.y].value=0,f[l.x][l.y].value=0,f}),c([])},1e3)}},[e]);const p=m.useCallback(i=>{s(i)},[]),k=m.useCallback(()=>{t(le(n))},[n]),_=m.useCallback(i=>{c(l=>h(l,i)?[]:[...l,i])},[]);return{data:{boardGame:a,itemSelects:o},method:{init:p,reload:k,chooseItem:_,getItemStatus:i=>h(o,i)?e:""}}}const _e=y({screen:{flexDirection:"row",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},mainContent:{display:"flex",width:"100%",height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:0,overflow:"auto",gap:1},row:{flexDirection:"row",gap:1}});var ge=_e;function Se(){const n=ge(),s=ue();return m.useEffect(()=>{s.method.init({row:7,col:14})},[]),u.jsx(d,{className:n.screen,children:u.jsx(v,{className:n.mainContent,children:s.data.boardGame.map((a,t)=>u.jsx(d,{className:n.row,children:a.map((o,c)=>{const e=s.method.getItemStatus(o);return u.jsx(ie,{status:e,item:o,onSelect:s.method.chooseItem},`matrix_row_${t}_column_${c}`)})},`matrix_row_${t}`))})})}export{Se as default};
//# sourceMappingURL=index-HX_Sj-tv.js.map
