import{I as g,G as o,aD as x,aA as E,aB as S,r as v,j as e}from"./index-jmAyaKDV.js";import{u as d,S as b}from"./index-Dkgu9qMT.js";import{s as R,u as j,o as y,C as N,L as C,a as T}from"./styles-Fqr_O_sZ.js";import{G as F,J as M,w as n}from"./index-Ie_1b0KC.js";import{P as _}from"./createSvgIcon-6UxKDT8J.js";import{T as u}from"./makeStyles-LgiWy4is.js";import{T as k}from"./TextField-e5vhvC3n.js";import{A as c}from"./index-sGxv5y_y.js";import{A}from"./error-UL5nlCxe.js";import"./useTheme-AkVgL-TG.js";function B(){const t=d(),{notify:a}=g();return F({mutationFn:M,onSuccess:()=>{a.toggleNotify({open:!0,mode:"success",message:t.formatMessage(o["module.auth.form.status.recover.success"])})},onError:r=>{const s=r?.code===A.USER_DELETED?"recover.fail":"server.busy";a.toggleNotify({open:!0,mode:"error",message:t.formatMessage(o[`module.auth.form.status.${s}`])})}})}function w(){const{formatMessage:t}=d(),a=B(),r=R(),{handleSubmit:s,control:f,formState:{errors:l}}=j({defaultValues:{email:x(E.get(S))},mode:"onSubmit",resolver:y(T)}),p=v.useCallback(m=>a.mutate(m),[]);return e.jsxs(e.Fragment,{children:[e.jsx(u,{variant:"h3",className:r.title,children:t(o["module.auth.form.title.recover"])}),e.jsxs(_,{className:r.form,component:"form",onSubmit:s(p),noValidate:!0,children:[e.jsx(N,{name:"email",control:f,render:({field:m})=>{const h=!!l.email,i=l.email?.message;return e.jsx(k,{...m,type:"email",label:t(o["module.auth.form.input.label.email"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoFocus:!0,error:h,helperText:i&&t(o[i])})}}),e.jsxs(b,{className:r.link,children:[e.jsx(n,{to:c.SIGN_IN,replace:!0,children:t(o["module.auth.form.title.signin"])}),e.jsx(u,{variant:"h6",color:"primary.main",children:" / "}),e.jsx(n,{to:c.RECOVER,replace:!0,children:t(o["module.auth.form.title.recover"])})]}),e.jsx(C,{type:"submit",loading:a.isPending,size:"large",variant:"contained",fullWidth:!0,className:r.btnSubmit,children:t(o["module.auth.form.button.submit.recover"])})]})]})}export{w as default};
//# sourceMappingURL=index-KtDs1AAH.js.map
