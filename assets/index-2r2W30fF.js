import{I as x,aA as S,aB as b,aC as j,G as t,r as E,j as e}from"./index-xiF5cFQE.js";import{u as h,S as R}from"./index-lpqGq7r4.js";import{s as y,u as T,C as c,L as C,o as N,a as F}from"./styles-XyQQHDjg.js";import{G as I,I as M,w as d}from"./index-bn3EYvqa.js";import{P as _}from"./createSvgIcon-14Lrfiw1.js";import{T as p}from"./makeStyles-BJjAZ_wX.js";import{T as v}from"./TextField-P55gG3oC.js";import{P as k}from"./index-kYjt9jXF.js";import{A as f}from"./index-038-RHD_.js";import{A as w}from"./error-UL5nlCxe.js";import"./useTheme-zZvmaC2b.js";import"./InputAdornment-OGsFRSA5.js";function A(){const s=h(),{notify:a}=x();return I({mutationFn:M,onSuccess:(r,{email:o})=>{S.set(b,j(o)),a.toggleNotify({open:!0,mode:"success",message:s.formatMessage(t["module.auth.form.status.register.success"])})},onError:r=>{const o=r?.code===w.EMAIL_EXISTS?"exist":"fail";a.toggleNotify({open:!0,mode:"error",message:s.formatMessage(t[`module.auth.form.status.register.${o}`])})}})}function X(){const{formatMessage:s}=h(),a=A(),r=y(),{handleSubmit:o,control:u,formState:{errors:m}}=T({mode:"onSubmit",resolver:N(F)}),g=E.useCallback(l=>a.mutate(l),[]);return e.jsxs(e.Fragment,{children:[e.jsx(p,{variant:"h3",className:r.title,children:s(t["module.auth.form.title.register"])}),e.jsxs(_,{className:r.form,component:"form",onSubmit:o(g),noValidate:!0,children:[e.jsx(c,{name:"email",control:u,render:({field:l})=>{const n=!!m.email,i=m.email?.message;return e.jsx(v,{...l,type:"email",label:s(t["module.auth.form.input.label.email"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoFocus:!0,error:n,helperText:i&&s(t[i])})}}),e.jsx(c,{name:"password",control:u,render:({field:l})=>{const n=!!m.password,i=m.password?.message;return e.jsx(k,{...l,label:s(t["module.auth.form.input.label.password"]),variant:"outlined",spellCheck:!1,fullWidth:!0,error:n,helperText:i&&s(t[i])})}}),e.jsxs(R,{className:r.link,children:[e.jsx(d,{to:f.SIGN_IN,replace:!0,children:s(t["module.auth.form.title.signin"])}),e.jsx(p,{variant:"h6",color:"primary.main",children:" / "}),e.jsx(d,{to:f.RECOVER,replace:!0,children:s(t["module.auth.form.title.recover"])})]}),e.jsx(C,{type:"submit",loading:a.isPending,size:"large",variant:"contained",fullWidth:!0,className:r.btnSubmit,children:s(t["module.auth.form.button.submit.register"])})]})]})}export{X as default};
//# sourceMappingURL=index-2r2W30fF.js.map
