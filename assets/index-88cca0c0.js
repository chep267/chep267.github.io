import{G as x,ai as S,aj as j,ak as E,E as t,r as b,j as e}from"./index-f1e70dfb.js";import{u as h,S as y}from"./index-30d63708.js";import{s as R,u as T,C as c,T as N,L as C,o as F,a as M}from"./styles-de0f4452.js";import{f as _,r as k,L as d}from"./index-4ace2a36.js";import{P as v}from"./createSvgIcon-7a1ea11b.js";import{T as f}from"./makeStyles-e69edf7f.js";import{P as A}from"./index-c493f2cc.js";import{A as p}from"./index-4316d0c6.js";import{A as I}from"./error-094fa076.js";import"./useTheme-8853d974.js";function L(){const s=h(),{notify:a}=x();return _({mutationFn:k,onSuccess:(r,{email:o})=>{S.set(j,E(o)),a.toggleNotify({open:!0,mode:"success",message:s.formatMessage(t["module.auth.form.status.register.success"])})},onError:r=>{const o=r?.code===I.EMAIL_EXISTS?"exist":"fail";a.toggleNotify({open:!0,mode:"error",message:s.formatMessage(t[`module.auth.form.status.register.${o}`])})}})}function D(){const{formatMessage:s}=h(),a=L(),r=R(),{handleSubmit:o,control:u,formState:{errors:n}}=T({mode:"onSubmit",resolver:F(M)}),g=b.useCallback(l=>a.mutate(l),[]);return e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"h3",className:r.title,children:s(t["module.auth.form.title.register"])}),e.jsxs(v,{className:r.form,component:"form",onSubmit:o(g),noValidate:!0,children:[e.jsx(c,{name:"email",control:u,render:({field:l})=>{const m=!!n.email,i=n.email?.message;return e.jsx(N,{...l,type:"email",label:s(t["module.auth.form.input.label.email"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoFocus:!0,error:m,helperText:i&&s(t[i])})}}),e.jsx(c,{name:"password",control:u,render:({field:l})=>{const m=!!n.password,i=n.password?.message;return e.jsx(A,{...l,label:s(t["module.auth.form.input.label.password"]),variant:"outlined",spellCheck:!1,fullWidth:!0,error:m,helperText:i&&s(t[i])})}}),e.jsxs(y,{className:r.link,children:[e.jsx(d,{to:p.SIGN_IN,replace:!0,children:s(t["module.auth.form.title.signin"])}),e.jsx(f,{variant:"h6",color:"primary.main",children:" / "}),e.jsx(d,{to:p.RECOVER,replace:!0,children:s(t["module.auth.form.title.recover"])})]}),e.jsx(C,{type:"submit",loading:a.isPending,size:"large",variant:"contained",fullWidth:!0,className:r.btnSubmit,children:s(t["module.auth.form.button.submit.register"])})]})]})}export{D as default};
//# sourceMappingURL=index-88cca0c0.js.map
