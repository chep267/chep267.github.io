import{ah as x,j as l,T as h,aB as f,aC as C,aD as S,C as p,S as y,c as A,aE as j,r as m,aF as E,u as M,aG as b,a5 as R,aH as k,m as w,y as I,P as _}from"./index-jp_zSDZP.js";import{C as v}from"./index-vygSPIbh.js";function L(a,n){const t=Array.from({length:7},()=>[]),r=a.set("date",1),i=a.daysInMonth();let o=r.day(),d=r.add(-1,"day");if(n==="sun")for(let e=o-1;e>=0;--e)t[e].push(d),d=d.add(-1,"day");else if(n==="mon")for(let e=o===0?6:o-1;e>=1;--e)t[e].push(d),d=d.add(-1,"day");else if(n==="sat"&&o!==6){for(let e=o-1;e>=0;--e)t[e].push(d),d=d.add(-1,"day");t[6].push(d)}for(let e=1;e<=i;++e)t[o].push(a.set("date",e)),o=e===i?o:(o+1)%7;let s=r.add(1,"month");if(n==="sun")for(let e=o+1;e<=6;++e)t[e].push(s),s=s.add(1,"day");else if(n==="mon"){if(o!==0){for(let e=o+1;e<=6;++e)t[e].push(s),s=s.add(1,"day");t[0].push(s)}}else if(n==="sat")for(let e=o===6?0:o+1;e<=5;++e)t[e].push(s),s=s.add(1,"day");return t}function B(a){const n=[];for(let t=0;t<a[0].length;t++){n.push([]);for(let r=0;r<a.length;r++)n[t].push(a[r][t])}return n}function O(a){const{day:n}=a,{data:{locale:t}}=x();return l.jsx(h,{variant:"h6",color:n===0||n===6?"error.main":"",children:f().day(n).locale(t).format("ddd")})}function $(a){const{data:n,isHide:t,isToday:r,isToMonth:i,isSelectedDate:o,onSelect:d}=a,s=C(),e=n.date(),c=n.day()===0||n.day()===6;return t?null:l.jsx(S,{to:`${p.CALENDAR}${p.CALENDAR_INFO}`,onClick:d,children:l.jsx(y,{className:A(s.item,{[s.itemHover]:!!e},{[s.itemToday]:r},{[s.itemSelectedDate]:o},{[s.itemDifferentMonth]:!i},{[s.itemWeekend]:c}),children:l.jsx(h,{variant:"h6",children:e})})})}function P(){const a=j(),n=C(),t=m.useMemo(()=>{const i=f(),o=a.data.time.year()===i.year()&&a.data.time.month()===i.month()?i.date():0;let d;switch(a.data.display){case"sat":d=[6,0,1,2,3,4,5];break;case"mon":d=[1,2,3,4,5,6,0];break;case"sun":default:d=[0,1,2,3,4,5,6];break}return d.map(s=>({id:`${s}`,label:l.jsx(O,{day:s}),render:e=>{const c=e[s],u=c.year()===a.data.time.year()&&c.month()===a.data.time.month(),D=u&&c.date()===o,T=u&&c.date()===a.data.time.date(),g=a.data.isOnlyMonth?!u:!1,N=()=>a.method.setTime(c);return l.jsx($,{data:c,isHide:g,isToday:D,isSelectedDate:T,isToMonth:u,onSelect:N})}}))},[a.data.display,a.data.time,a.data.isOnlyMonth]),r=m.useMemo(()=>{const i=L(a.data.time,a.data.display);return B(i).map(d=>Object.assign({},d))},[a.data.time,a.data.display]);return l.jsx(E,{className:n.calendar,rows:t,data:r})}function H(){const{formatMessage:a}=M(),{data:{locale:n}}=x(),t=j(),r=b(),i=t.method.isToday(t.data.time),o=m.useCallback(s=>{s&&t.method.setTime(s)},[]),d=m.useMemo(()=>{const s=t.method.isToday(t.data.time);return l.jsx(R,{className:r.today,onClick:()=>o(f()),disabled:s,children:l.jsx(h,{variant:"h6",children:s?"":a(k["module.calendar.text.today"])})})},[i,n]);return l.jsxs(y,{className:r.title,children:[d,l.jsx(v,{className:r.titleRight})]})}const F=w(({spacing:a,breakpoints:n})=>({screen:{flexDirection:"row",width:"100%",height:"100%",padding:`${a(5)} 10%`,[n.down(I.APP_BAR_BREAKPOINT)]:{padding:0}},mainContent:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",height:"100%",borderRadius:8,overflow:"hidden"}}));var W=F;function K(){const a=W();return l.jsx(y,{className:a.screen,children:l.jsxs(_,{className:a.mainContent,children:[l.jsx(H,{}),l.jsx(P,{})]})})}export{K as default};
//# sourceMappingURL=index-jmHcckBN.js.map
