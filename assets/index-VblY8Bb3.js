import{af as j,ag as y,aZ as T,bh as k,bi as F,r as E,j as e,l as d,b0 as N,bj as p,T as w,h as C,bd as h,bk as I}from"./vendor-NFT-wIW4.js";import{u as v,f as R,a6 as A,a7 as g,a8 as b,a9 as M,a as B,aa as a,D as P,ab as L}from"./index-sNUf3CTI.js";import{P as V}from"./index-5F3QT_OO.js";import{A as f}from"./index-f7mdcx6a.js";import{s as W}from"./styles-jZze4u5B.js";import"./commonjsHelpers-5-cIlDoe.js";function _(){const s=v(),l=R();return j({mutationFn:A,onSuccess:async(t,{email:u})=>{const r=t.user,o=await r.getIdToken()||"";g.set(b,M(u)),y.set(B,o,{expires:1}),s.method.setAuth({isAuth:!0,me:r})},onError:()=>{l.method.toggleNotify({open:!0,mode:"error",intlMessage:a["module.auth.form.status.email.incorrect"]})}})}function z(){const{formatMessage:s}=T(),l=_(),t=W(),{handleSubmit:u,control:r,formState:{errors:o},setFocus:x}=k({defaultValues:{email:P(g.get(b)),password:""},mode:"onSubmit",resolver:F(L)}),S=E.useCallback(n=>l.mutate(n),[]);return e.jsxs(e.Fragment,{children:[e.jsx(d,{variant:"h3",className:t.title,children:s(a["module.auth.form.title.signin"])}),e.jsxs(N,{className:t.form,component:"form",onSubmit:u(S),noValidate:!0,children:[e.jsx(p,{name:"email",control:r,render:({field:n})=>{const m=!!o.email,i=o.email?.message;return e.jsx(w,{...n,type:"email",label:s(a["module.auth.form.input.label.email"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoComplete:"email",autoFocus:!0,error:m,helperText:i&&s(a[i])})}}),e.jsx(p,{name:"password",control:r,render:({field:{ref:n,...m}})=>{const i=!!o.password,c=o.password?.message;return e.jsx(V,{...m,inputRef:n,label:s(a["module.auth.form.input.label.password"]),variant:"outlined",spellCheck:!1,fullWidth:!0,autoComplete:"password",error:i,helperText:c&&s(a[c]),setFocus:()=>x("password")})}}),e.jsxs(C,{className:t.link,children:[e.jsx(h,{to:f.REGISTER,replace:!0,children:s(a["module.auth.form.title.register"])}),e.jsx(d,{variant:"h6",color:"primary.main",children:" / "}),e.jsx(h,{to:f.RECOVER,replace:!0,children:s(a["module.auth.form.title.recover"])})]}),e.jsx(I,{type:"submit",loading:l.isPending,size:"large",variant:"contained",fullWidth:!0,className:t.btnSubmit,children:s(a["module.auth.form.button.submit.signin"])})]})]})}export{z as default};
//# sourceMappingURL=index-VblY8Bb3.js.map
